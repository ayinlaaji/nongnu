-- | Idealised indentation scenarios.
v
--
v
--   Bugs and unexpected behaviour in (re-)indentation may be documented here.
v
--
v
--   Lines marked "manual correction" indicate where we expect the user to
v
--   re-indent because it goes against our prediction. In some of these cases,
v
--   we could improve the guess with semantic information (e.g. if we know that
v
--   the RHS of a bind is only partially applied, then we probably mean to
v
--   continue that line instead of start a new one).
v
module Indentation where
v

v
import Foo.Bar
v
import Foo.Baz hiding ( gaz,
1                       v
                        baz
1                       v
                      )
v                     1 2

v                     1 2
basic_do = do
v
  foo <- blah blah blah
v 1
  bar <- blah blah
v 1
         blah -- manual correction
v 2      1
         blah -- manual correction
v 2      1
  sideeffect
v 1      2
  sideeffect' blah
v 1      2
  let baz = blah blah
v 2   1  3
            blah -- manual correction
v 2   3  4  1
      gaz = blah
v 2   1  3  4
      haz =
v 2   1  3  4
        blah
v 2   3 14  5
  pure faz -- manual correction
v 1   2 34  5

v 1   2 34  5
nested_do = -- manual correction
v
  do foo <- blah
v    1
     do bar <- blah -- same level as foo
v    2  1
        baz -- same level as bar
v    2  1

v    1  2
nested_where a b = foo a b
v
  where -- TODO 2
v
    foo = bar baz -- indented
v   1
    baz = blah blah -- same level as foo
v   1
      where -- manual correction
v   1
        gaz a = blah -- indented
v   2   1
        faz = blah -- same level as gaz
v   2   1

v   1   2
-- TODO case statements
v   1   2
-- TODO let / in
v   1   2

v   1   2
-- TODO coproduct definitions, the | should align with =
v   1   2

v   1   2
-- TODO lists, records, tuples
v   1   2

v   1   2
-- TODO long type signatures vs definitions
v   1   2
v
-- | Idealised indentation scenarios.
v
--
v
--   Bugs and unexpected behaviour in (re-)indentation may be documented here.
v
module Indentation where
v

v
import Foo.Bar
v                       1
import Foo.Baz hiding ( gaz,
1                     2 v
                        baz
2                     v 1
                      )
v                     1 2

v 1                   2 3
basic_do = do
1 v
  foo <- blah blah blah
v 1      2
  bar <- blah blah -- TODO same level as foo
2 1      v
         blah -- TODO manual correction
2 1      v
         blah -- continue the blah
v 2      1
  sideeffect -- manual correction
v 1   2  3
  sideeffect' blah
v 1      3  2
  let baz = blah blah
3 2   1  4  v
            blah -- TODO manual correction
v 3   2  4  1
      gaz = blah -- TODO same level as baz
v 3   1 24  5
      haz =      -- TODO same level as gaz
3 2   1 v4  5
        blah
2 v   3 14  5
  pure faz -- manual correction
1 v   2 34  5

v 2  13 45  6
nested_do =
v       1
  do foo <- blah
v    1  2
     do bar <- blah -- TODO same level as foo
v    2  1
        baz -- TODO same level as bar
1    2  v

v    1  2
nested_where a b = foo a b
1 v 2
  where -- TODO 2
1   v
    foo = bar baz -- TODO indented
v   1
    baz = blah blah -- TODO same level as foo
2   v   1
      where -- manual correction
1   2   v
        gaz a = blah -- TODO indented
v   2   1
        faz = blah -- TODO same level as gaz
2   3   1     v

v   1   2
-- TODO case statements
v   1   2
-- TODO let / in
1   2   3     v

v   1   2
-- TODO coproduct definitions, the | should align with =
1   2   3     v

v   1   2
-- TODO lists, records, tuples
1   2   3     v

v   1   2
-- TODO long type signatures vs definitions